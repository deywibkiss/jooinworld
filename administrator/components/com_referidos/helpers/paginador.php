<?php// no direct accessdefined('_JEXEC') or die('Restricted access');jimport( 'joomla.environment.uri' ); class HelperPaginador{	/**	* generar el paginador	* @param { string } nombre del formulario	* @param { array | int } array de objetos con todos los registros, o numero de registros	* @param { array | int } array de objetos con el filtro aplicado, o numero de registros	* @param { int } inicio del registro de la consulta	* @param { int } numero de registros a mostrar 	* @return { string } el html del paginador	*/	public static function getPagination( $nameform = 'adminForm', $itemsall , $items , $limitstart , $limit )	{		if( is_array( $itemsall ) ){			$countall = count($itemsall);		}		elseif( is_numeric($itemsall) ){			$countall = (int) $itemsall;		}				if( is_array( $items ) ){			$countitems = count($items);		}		elseif( is_numeric($items) ){			$countitems = (int) $items;		}				if( !( isset($countall) && isset($countitems) && is_numeric($limitstart) && is_numeric($limit) ) )			return '';				?>		 <div class="container">            <div class="pagination">                <div class="limit">Mostrar #                    <select id="limit" name="limit" class="inputbox" size="1" onchange="Joomla.submitform();">                        <option value="5" <?php echo ( $limit == 5 ) ? 'selected="selected"' : '';?>>5</option>                        <option value="10" <?php echo ( $limit == 10 ) ? 'selected="selected"' : '';?>>10</option>                        <option value="15" <?php echo ( $limit == 15 ) ? 'selected="selected"' : '';?>>15</option>                        <option value="20" <?php echo ( $limit == 20 ) ? 'selected="selected"' : '';?>>20</option>                        <option value="25" <?php echo ( $limit == 25 ) ? 'selected="selected"' : '';?>>25</option>                        <option value="30" <?php echo ( $limit == 30 ) ? 'selected="selected"' : '';?>>30</option>                        <option value="50" <?php echo ( $limit == 50 ) ? 'selected="selected"' : '';?>>50</option>                        <option value="100" <?php echo ( $limit == 100 ) ? 'selected="selected"' : '';?>>100</option>                        <option value="" <?php echo ( $limit == '' ) ? 'selected="selected"' : '';?>>Todos</option>                    </select>                </div>                <!--Genero el paginado-->                <?php if( $countall != $countitems ):?>                <!--compruebo si hay mas paginas asia atras-->                <?php if( ($limitstart-$limit) < 0){?>                    <div class="button2-right off"><div class="start"><span>Iniciar</span></div></div>                    <div class="button2-right off"><div class="prev"><span>Previo</span></div></div>                <?php }else{?>                    <div class="button2-right"><div class="start"><a href="#" title="Previo" onclick="document.<?php echo $nameform?>.limitstart.value=0; Joomla.submitform();return false;" >Iniciar</a></div></div>                    <div class="button2-right"><div class="prev"><a href="#" title="Previo" onclick="document.<?php echo $nameform?>.limitstart.value=<?php echo ( $limitstart-$limit )?>; Joomla.submitform();return false;" >Previo</a></div></div>                <?php }?>                <div class="button2-left">                    <div class="page">                        <?php $contador = 1 ;                              $paginaesta = 1;                            for( $i=0 ; $i < $countall ; $i+=$limit ):?>                            <!--compruebo si ya esta en la ultima pagina-->                            <?php if( $countall == $i || $limitstart == $i){                                     $paginaesta = $contador;                            ?>                                <span><?php echo $contador?></span>                            <?php }else{?>                                <a href="#" title="<?php echo $contador?>" onclick="document.adminForm.limitstart.value=<?php echo $i?>; Joomla.submitform();return false;"><?php echo $contador?></a>                            <?php }?>                        <?php $contador++; endfor; ?>                    </div>                </div>                <!--compruebo si hay mas paginas hacia delante-->                <?php if( ($limitstart+$limit) >= $countall ){?>                    <div class="button2-left off"><div class="next"><span>Siguiente</span></div></div>                    <div class="button2-left off"><div class="end"><span>Fin</span></div></div>                <?php }else{?>                    <div class="button2-left"><div class="next"><a href="#" title="Siguiente" onclick="document.<?php echo $nameform?>.limitstart.value=<?php echo ( $limitstart+$limit )?>; Joomla.submitform();return false;">Siguiente</a></div></div>                    <div class="button2-left"><div class="end"><a href="#" title="Fin" onclick="document.<?php echo $nameform?>.limitstart.value=<?php echo ( ( $contador-2 )*$limit ) ?>; Joomla.submitform();return false;">Fin</a></div></div>                <?php }?>                                <div class="limit">PÃ¡gina <?php echo $paginaesta .' de '. ( $contador-1 ) ?></div>                <input type="hidden" name="limitstart" value="<?php echo $limitstart ?>">                <?php endif;?>            </div>        </div>		<?php  	}}?>