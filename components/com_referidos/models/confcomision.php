<?php// Joomla calls and runtimesdefined( '_JEXEC' ) or die( 'Restricted access' );jimport( 'joomla.application.component.model' );// Begining of the controllerclass ReferidosModelConfComision extends ReferidosModelDefault{		/**	* Object id	* var int	*/	public $id;		/**	* posici贸n de la semana del mes	* var int	*/	public $semana_corte;		/**	* 1 lunes - 7 domingo	* var int	*/	public $dia_corte;		/**	* posici贸n de la semana del mes	* var int	*/	public $semana_pago;		/**	* 1 lunes - 7 domingo	* var int	*/	public $dia_pago;		/**	* posici贸n de la semana del mes	* var int	*/	public $semana_corte2;		/**	* 1 lunes - 7 domingo	* var int	*/	public $dia_corte2;		/**	* posici贸n de la semana del mes	* var int	*/	public $semana_pago2;		/**	* 1 lunes - 7 domingo	* var int	*/	public $dia_pago2;		/**	* email admin	* var string	*/	public $email_admin;		/**	 * redefined Constant for table 	 * @var string	 */	const TABLE = '#__conf_comisiones';		//constante base para los filtros	const FILTER_STATE = 'filter.referidos.confcomision.';		/**	 * Attributes Map	 * @var array	 */	protected $attrs_map = array( 			'id'		,	'semana_corte'			,	'dia_corte'		,	'semana_pago'		,	'dia_pago'		,	'semana_corte2'		,	'dia_corte2'		,	'semana_pago2'		,	'dia_pago2'		,	'email_admin'	);		/**	* Methods	*	*/		/**	* enviar mensaje al administrador cuando	* se realice el corte	*/	public function sendMailAdmin( $params ){						// Varios destinatarios		$para  = $this->email_admin;		$de = $this->email_admin;				// subject		$titulo = 'Mensaje';				// message		$mensaje = '			<html>				<head>				  <title>Se genero corte de comision de JooinWorld</title>				</head>				<body>					<h1>El sistema de referidos acaba de generar un corte de comisiones: </h1>					<ul>						<li>Periodo Liquidado: <span>( '.date( 'Y/m/d' , strtotime( $params[ 'fecha_inicia' ] ) ).' '.date( 'Y/m/d' , strtotime( $params[ 'fecha_termina' ] ) ).' )</span></li>					</ul>				</body>			</html>		';				// Para enviar un correo HTML mail, la cabecera Content-type debe fijarse		$cabeceras  = "MIME-Version: 1.0 \r\n";		$cabeceras .= "Content-type: text/html; charset=UTF-8 \r\n";				// Cabeceras adicionales		$cabeceras .= "To: " . $para ." \r\n";		$cabeceras .= "From: ". $de ." \r\n";				// Mail it		mail( $para, $titulo, $mensaje, $cabeceras);			}}?>